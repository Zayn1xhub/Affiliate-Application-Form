<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Affiliate Application — Limited Seats</title>
<style>
  :root{
    --bg-1:#041025; --bg-2:#021226;
    --glass: rgba(255,255,255,0.04);
    --muted: rgba(255,255,255,0.70);
    --label: rgba(255,255,255,0.86);
    --placeholder: rgba(255,255,255,0.44);
    --accent-start:#1a6cff; --accent-end:#00c2ff;
    --success:#2ad66a;
  }
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    background: radial-gradient( circle at 15% 10%, rgba(8,30,70,0.45), transparent 12%),
                linear-gradient(180deg,var(--bg-1),var(--bg-2) 60%);
    color:white; display:flex; align-items:center; justify-content:center; padding:28px; overflow:hidden;
  }

  /* background glows + logo watermark cluster (behind card) */
  .bg-glow{ position:absolute; inset:0; z-index:0; pointer-events:none; }
  .glow-large{ position:absolute; width:640px; height:640px; left:-180px; top:-220px; background: radial-gradient(circle,#153f9f 0%, transparent 55%); filter:blur(60px); opacity:.55; transform:translate3d(0,0,0); transition:transform .12s linear; }
  .glow-small{ position:absolute; width:480px; height:480px; right:-160px; bottom:-160px; background: radial-gradient(circle,#00bde9 0%, transparent 55%); filter:blur(44px); opacity:.42; transition:transform .14s linear; }

  .watermark-cluster{ position:absolute; inset:0; z-index:0; pointer-events:none; }
  .wm{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); opacity:0.06; filter:blur(4px); transition:transform .45s, opacity .35s, filter .35s; }
  .wm img{ display:block; width:360px; height:auto; }
  .wm.w2 img{ width:260px; }
  .wm.w3 img{ width:420px; }
  .wm.w4 img{ width:200px; }

  /* Card */
  .card{ position:relative; z-index:2; width:100%; max-width:520px; border-radius:16px; padding:28px; 
         background: linear-gradient(180deg, rgba(255,255,255,0.022), rgba(255,255,255,0.015));
         border:1px solid rgba(255,255,255,0.03); box-shadow: 0 22px 60px rgba(2,6,14,0.7); backdrop-filter: blur(10px) saturate(120%); }

  .top{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:14px; }
  .left-top{ display:flex; gap:12px; align-items:center; }
  .badge{ background: linear-gradient(90deg,var(--accent-start),var(--accent-end)); color:#021025; padding:8px 14px; border-radius:999px; font-weight:800; font-size:13px; letter-spacing:.2px; }
  .lang-wrap{ display:flex; align-items:center; gap:8px; }
  select.lang{ background: rgba(255,255,255,0.04); color:var(--label); border:1px solid rgba(255,255,255,0.03); padding:8px 12px; border-radius:10px; font-weight:600; }

  h1{ margin:6px 0 8px; font-size:30px; letter-spacing:.2px; color:#fff; }
  .lead{ color:var(--muted); font-size:14px; margin-bottom:18px; line-height:1.45 }

  form label{ display:block; font-size:13px; color:var(--label); margin-bottom:6px; font-weight:600 }
  input, select, textarea{
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid rgba(0,0,0,0.25);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
    color:#fff; outline:none; box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
    font-size:14px; margin-bottom:16px;
  }
  input::placeholder, textarea::placeholder{ color:var(--placeholder); font-weight:500 }
  input:focus, select:focus, textarea:focus{ box-shadow: 0 6px 30px rgba(26,108,255,0.12); border-color: rgba(26,108,255,0.9); transform: translateZ(0); }

  textarea{ min-height:96px; resize:vertical; }

  .cta{ width:100%; padding:14px; border-radius:12px; border:none; font-weight:800; font-size:15px;
        background: linear-gradient(90deg,var(--accent-start),var(--accent-end)); color:#031226; cursor:pointer; box-shadow: 0 10px 30px rgba(26,108,255,0.15); }

  .meta{ display:flex; justify-content:space-between; gap:12px; align-items:center; margin-top:10px; color:var(--muted); font-size:13px }
  .meta .manual{ font-weight:600 }

  /* seats pill */
  .seats-pill{ position:absolute; top:18px; right:18px; z-index:3; background: rgba(0,0,0,0.28); padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,0.04); color:var(--muted); font-weight:700; display:flex; gap:10px; align-items:center; font-size:13px; }

  /* modal */
  .modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:9999; background: rgba(3,6,10,0.6); opacity:0; pointer-events:none; transition:opacity .22s; }
  .modal.open{ opacity:1; pointer-events:auto; }
  .modal-card{ width:100%; max-width:420px; background:linear-gradient(180deg,#061a2b,#03101b); padding:22px; border-radius:12px; border:1px solid rgba(255,255,255,0.03); text-align:center; color:var(--muted) }
  .modal-card h3{ color:#fff; margin:6px 0 8px; }
  .modal-card p{ margin:0 0 12px; }

  /* responsiveness */
  @media (max-width:560px){
    body{ padding:18px }
    .card{ padding:18px; border-radius:12px }
    .seats-pill{ top:12px; right:12px; font-size:12px; padding:6px 10px }
    .wm img{ width:240px }
    h1{ font-size:22px }
  }
</style>
</head>
<body>
  <!-- glows -->
  <div class="bg-glow">
    <div class="glow-large" id="glowL"></div>
    <div class="glow-small" id="glowS"></div>
  </div>

  <!-- watermark logo cluster (replace with your assets) -->
  <div class="watermark-cluster" aria-hidden="true">
    <div class="wm w1" id="wm0"><img src="assets/logo-1.svg" alt="" /></div>
    <div class="wm w2" id="wm1"><img src="assets/logo-2.svg" alt="" /></div>
    <div class="wm w3" id="wm2"><img src="assets/logo-3.svg" alt="" /></div>
    <div class="wm w4" id="wm3"><img src="assets/logo-4.svg" alt="" /></div>
  </div>

  <div class="card" role="main" id="card">
    <div class="top">
      <div class="left-top">
        <div class="badge">Limited Seats</div>
      </div>

      <div style="display:flex;align-items:center;gap:8px">
        <select id="langSelect" class="lang" aria-label="Select language">
          <option value="en">EN</option>
          <option value="ar">AR</option>
          <option value="es">ES</option>
        </select>
      </div>
    </div>

    <h1 id="title">Affiliate Application</h1>
    <p class="lead" id="subtitle">We’re onboarding a small circle of partners. Apply now — approved applicants get direct access.</p>

    <form id="applyForm" onsubmit="event.preventDefault(); submitForm();">
      <label for="name" id="labelName">Full Name</label>
      <input id="name" name="name" type="text" placeholder="Your name" required />

      <label for="email" id="labelEmail">Email Address</label>
      <input id="email" name="email" type="email" placeholder="you@email.com" required />

      <label for="contact" id="labelContact">Telegram / WhatsApp</label>
      <input id="contact" name="contact" type="text" placeholder="@username or number" required />

      <label for="traffic" id="labelTraffic">Main Traffic Source</label>
      <select id="traffic" name="traffic" required>
        <option value="">Select one</option>
        <option>Telegram</option>
        <option>Instagram</option>
        <option>TikTok</option>
        <option>Facebook</option>
        <option>Website</option>
        <option>Other</option>
      </select>

      <label for="note" id="labelNote">Short Note</label>
      <textarea id="note" name="note" placeholder="Tell us briefly about your traffic or experience"></textarea>

      <button id="applyBtn" class="cta" type="submit">Apply Now</button>
    </form>

    <div class="meta">
      <div class="manual" id="manualText">Reviewed manually · No auto-approvals</div>
      <div class="muted">Applications close once seats are filled</div>
    </div>

    <!-- seats pill -->
    <div class="seats-pill" id="seatsPill" title="Seats left">
      Seats left: <strong id="seatsCount">7</strong>
    </div>
  </div>

  <!-- success modal -->
  <div class="modal" id="modal">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <h3 id="mTitle">Application received</h3>
      <p>Thanks — we review submissions manually. We'll contact approved applicants soon.</p>
      <button onclick="closeModal()" style="background:var(--accent-end);border:none;padding:10px 12px;border-radius:8px;font-weight:700;cursor:pointer;">Close</button>
    </div>
  </div>

<script>
  // i18n strings (light)
  const translations = {
    en:{title:'Affiliate Application', subtitle:'We’re onboarding a small circle of partners. Apply now — approved applicants get direct access.', labelName:'Full Name', labelEmail:'Email Address', labelContact:'Telegram / WhatsApp', labelTraffic:'Main Traffic Source', labelNote:'Short Note', apply:'Apply Now', manual:'Reviewed manually · No auto-approvals', sent:'Application received', sentDesc:'Thanks — we review submissions manually. We will contact approved applicants.'},
    ar:{title:'نموذج التقديم للشركاء', subtitle:'نقوم بضم مجموعة صغيرة من الشركاء. قدّم الآن — سنتواصل مع المقبولين مباشرةً.', labelName:'الاسم الكامل', labelEmail:'البريد الإلكتروني', labelContact:'تلغرام / واتساب', labelTraffic:'مصدر الزيارات الرئيسي', labelNote:'ملاحظة قصيرة', apply:'قدّم الآن', manual:'يتم المراجعة يدويًا · لا توجد موافقات تلقائية', sent:'تم استلام طلبك', sentDesc:'شكرًا — سيتم مراجعة بياناتك يدويًا وسنتواصل مع المقبولين.'},
    es:{title:'Solicitud de Afiliado', subtitle:'Estamos incorporando un grupo pequeño de socios. Aplica ahora — los aprobados recibirán acceso directo.', labelName:'Nombre completo', labelEmail:'Correo electrónico', labelContact:'Telegram / WhatsApp', labelTraffic:'Fuente principal de tráfico', labelNote:'Nota breve', apply:'Aplicar ahora', manual:'Revisado manualmente · Sin aprobaciones automáticas', sent:'Solicitud recibida', sentDesc:'Gracias — revisaremos manualmente. Nos comunicaremos con los aprobados.'}
  };

  // basic i18n apply
  const langSel = document.getElementById('langSelect');
  function applyLang(l){ const d = translations[l]||translations.en;
    document.getElementById('title').textContent = d.title;
    document.getElementById('subtitle').textContent = d.subtitle;
    document.getElementById('labelName').textContent = d.labelName;
    document.getElementById('labelEmail').textContent = d.labelEmail;
    document.getElementById('labelContact').textContent = d.labelContact;
    document.getElementById('labelTraffic').textContent = d.labelTraffic;
    document.getElementById('labelNote').textContent = d.labelNote;
    document.getElementById('applyBtn').textContent = d.apply;
    document.getElementById('manualText').textContent = d.manual;
    document.documentElement.lang = l;
    if(l==='ar'){ document.documentElement.dir='rtl'; document.getElementById('card').dir='rtl'; }
    else{ document.documentElement.dir='ltr'; document.getElementById('card').dir='ltr'; }
  }
  langSel.addEventListener('change', ()=>applyLang(langSel.value));
  applyLang('en');

  // seats logic (client-side visual only)
  let seats = 7; // change start number here or fetch from backend
  const seatsCount = document.getElementById('seatsCount');
  const seatsPill = document.getElementById('seatsPill');
  function updateSeats(){ seatsCount.textContent = seats; if(seats<=0){ seatsPill.style.opacity='.6'; document.getElementById('applyBtn').disabled = true; document.getElementById('applyBtn').textContent = 'Closed'; } }
  updateSeats();

  // form submit - replace commented fetch with your webhook
  function submitForm(){
    if(seats<=0) return;
    const payload = {
      name:document.getElementById('name').value.trim(),
      email:document.getElementById('email').value.trim(),
      contact:document.getElementById('contact').value.trim(),
      traffic:document.getElementById('traffic').value,
      note:document.getElementById('note').value.trim(),
      lang: document.documentElement.lang || 'en'
    };
    // small client-side validation
    if(!payload.name || !payload.email || !payload.contact || !payload.traffic){ alert('Please fill required fields'); return; }

    // UI: disable + loader
    const btn = document.getElementById('applyBtn'); btn.disabled=true; const original = btn.textContent; btn.textContent='Sending...';

    // TODO: replace with real fetch to your webhook/endpoint
    // fetch('https://your-webhook-url', { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(payload) })
    //  .then(r=>r.ok ? onSuccess() : onError())
    //  .catch(onError);

    // Simulate success for now:
    setTimeout(()=> { onSuccess(); }, 900);

    function onSuccess(){
      seats = Math.max(0, seats - 1); updateSeats();
      openModal(translations[payload.lang||'en'].sent, translations[payload.lang||'en'].sentDesc);
      btn.disabled=false; btn.textContent = original;
      document.getElementById('applyForm').reset();
    }
    function onError(){
      btn.disabled=false; btn.textContent = original;
      alert('Error sending. Try again later.');
    }
    console.log('FORM PAYLOAD:', payload);
  }

  // modal logic
  const modal = document.getElementById('modal');
  function openModal(title, desc){
    document.getElementById('mTitle').textContent = title || 'Sent';
    modal.classList.add('open');
  }
  function closeModal(){ modal.classList.remove('open'); }

  // background interactivity (mouse + touch)
  const glowL = document.getElementById('glowL'), glowS = document.getElementById('glowS');
  const wms = Array.from(document.querySelectorAll('.wm'));
  const maxG = 28, maxW = 26;
  function moveEffects(x,y){
    const w = window.innerWidth, h = window.innerHeight;
    const cx = (x/w - 0.5) * 2; const cy = (y/h - 0.5) * 2 * -1;
    glowL.style.transform = `translate3d(${Math.round(cx*maxG)}px, ${Math.round(cy*maxG)}px, 0)`;
    glowS.style.transform = `translate3d(${Math.round(cx*maxG*-0.6)}px, ${Math.round(cy*maxG*-0.6)}px, 0)`;
    wms.forEach((el,i)=> {
      const factor = 1 + i*0.35;
      const lx = Math.round(cx * (maxW*factor));
      const ly = Math.round(cy * (maxW*(1+factor*0.2)));
      el.style.transform = `translate(calc(-50% + ${lx}px), calc(-50% + ${ly}px))`;
      const d = Math.sqrt(cx*cx + cy*cy);
      el.style.filter = `blur(${Math.max(2, 6 + d*12)}px)`;
      el.style.opacity = `${Math.max(0.03, 0.12 - d*0.08 - i*0.01)}`;
    });
  }
  window.addEventListener('mousemove', e=>moveEffects(e.clientX, e.clientY));
  window.addEventListener('click', e=>{ const c=document.getElementById('card'); if(!c.contains(e.target)) moveEffects(e.clientX,e.clientY); });
  window.addEventListener('touchstart', e=>{ const t=e.touches[0]; const c=document.getElementById('card'); const r=c.getBoundingClientRect(); if(t.clientX>=r.left && t.clientX<=r.right && t.clientY>=r.top && t.clientY<=r.bottom) return; moveEffects(t.clientX,t.clientY); });
  window.addEventListener('touchend', ()=>{ glowL.style.transform='translate3d(0,0,0)'; glowS.style.transform='translate3d(0,0,0)'; wms.forEach((el,i)=>{ el.style.filter='blur(6px)'; el.style.opacity=(0.08 - i*0.01); el.style.transform='translate(-50%,-50%)'; }); });

  // keyboard: alt+L cycles languages
  window.addEventListener('keydown', e=>{ if(e.altKey && e.key.toLowerCase()==='l'){ const m={'en':'ar','ar':'es','es':'en'}; const nxt = m[document.documentElement.lang||'en']; langSel.value=nxt; applyLang(nxt); }});
</script>
</body>
</html>
